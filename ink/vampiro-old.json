{
  "inkVersion": 15,
  "root": [
    "\n",
    { "->": "Intro" },
    "done",
    {
      "Intro": [
        "^Despiertas aturdido. Después de unos segundos te incorporas en el frío suelo de piedra y ves que estás en un castillo. ¡Ahora recuerdas! Eres reXXe y tu misión es la de matar al vampiro. TIENES que matar al vampiro que vive en la parte superior del castillo...",
        "\n",
        [
          "ev",
          "str",
          "^Empezar",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 20 },
          { "c": [{ "->": "Vestibulo" }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Vestibulo": [
        "ev",
        { "^->": "Vestibulo" },
        "/ev",
        { "temp=": "current_location", "re": true },
        "ev",
        "str",
        "^Vestíbulo",
        "/str",
        "/ev",
        { "temp=": "current_name", "re": true },
        "G>",
        "ev",
        { "x()": "hide_image" },
        "out",
        "/ev",
        "G<",
        "\n",
        "G>",
        "ev",
        "str",
        "^vestibulo",
        "/str",
        { "x()": "show_image_bg", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Estás en el vestíbulo del castillo. El ambiente es muy húmedo y frío.",
        "<>",
        "\n",
        "G>",
        "ev",
        { "VAR?": "traje_on" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "<>",
              "^ Ahora que andas desundo lo notas más.",
              "\n",
              { "->": ".^.^.^.37" },
              null
            ]
          }
        ],
        "nop",
        "G<",
        "^",
        "\n",
        "<>",
        "^ Estás en un pasillo que se extiende hacia el norte. Al sur queda la puerta de entrada al castillo.",
        "\n",
        [
          "ev",
          "str",
          "^Norte",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Pasillo" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Sur",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Puerta_de_entrada" }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Puerta_de_entrada": [
        "ev",
        "str",
        "^Puerta de entrada",
        "/str",
        "/ev",
        { "temp=": "current_name", "re": true },
        "^¡Tu misión es aquí dentro!",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Pasillo": [
        "ev",
        { "^->": "Pasillo" },
        "/ev",
        { "temp=": "current_location", "re": true },
        "ev",
        "str",
        "^Pasillo",
        "/str",
        "/ev",
        { "temp=": "current_name", "re": true },
        "G>",
        "ev",
        { "x()": "hide_image" },
        "out",
        "/ev",
        "G<",
        "\n",
        "G>",
        "ev",
        "str",
        "^pasillo_bg",
        "/str",
        { "x()": "show_image_bg", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Te encuentras en medio del pasillo principal de este piso. Al oeste está la cocina y al este la biblioteca. El pasillo sigue hacia el norte.",
        "\n",
        [
          "ev",
          "str",
          "^Norte",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Escaleras" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Este",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Biblioteca" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Oeste",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Cocina" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Sur",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Vestibulo" }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Cocina": [
        "ev",
        { "^->": "Cocina" },
        "/ev",
        { "temp=": "current_location", "re": true },
        "ev",
        "str",
        "^Cocina",
        "/str",
        "/ev",
        { "temp=": "current_name", "re": true },
        "G>",
        "ev",
        { "x()": "hide_image" },
        "out",
        "/ev",
        "G<",
        "\n",
        "G>",
        "ev",
        "str",
        "^cocina_bg",
        "/str",
        { "x()": "show_image_bg", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Estás en la cocina del castillo. Esto está lleno de cacerolas y de cacharros para cocinar. Hay un horno, un fregadero ",
        "G>",
        "ev",
        { "VAR?": "ex_fregadero" },
        "/ev",
        [
          { "->": ".^.b", "c": true },
          { "b": ["^de piedra vacio", { "->": "Cocina.33" }, null] }
        ],
        "nop",
        "G<",
        "^ y un armario pequeño ",
        "G>",
        "ev",
        { "VAR?": "ex_armario" },
        1,
        "==",
        { "VAR?": "llave" },
        0,
        "==",
        "&&",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          { "b": ["^y cerrado", { "->": "Cocina.47" }, null] }
        ],
        "nop",
        "G<",
        "^.",
        "\n",
        [
          "ev",
          "str",
          "^Examinar el horno",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Cocina_horno" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Examinar el fregadero",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Cocina_fregadero" }, { "#f": 7 }] }
        ],
        "G>",
        "ev",
        { "VAR?": "cuchillo" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "^Puedes ver un cuchillo.",
              "\n",
              [
                "ev",
                "str",
                "^Examinar el cuchillo",
                "/str",
                "/ev",
                { "*": ".^.c", "flg": 4 },
                { "c": [{ "->": "Cocina_cuchillo" }, { "#f": 7 }] }
              ],
              { "->": "Cocina.60" },
              null
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        "G>",
        "ev",
        { "VAR?": "armario_open" },
        { "VAR?": "ajos" },
        0,
        "==",
        "&&",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "^Puedes ver una ristra de ajos.",
              "\n",
              [
                "ev",
                "str",
                "^Examinar ristra de ajos",
                "/str",
                "/ev",
                { "*": ".^.c", "flg": 4 },
                { "c": [{ "->": "Cocina_ajos" }, { "#f": 7 }] }
              ],
              { "->": "Cocina.72" },
              null
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        [
          "ev",
          "str",
          "^Examinar el armario",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Cocina_armario" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Salir de la cocina",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Pasillo" }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Cocina_horno": [
        "^Un simple horno, no tiene ninguna importancia.",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Cocina_fregadero": [
        "ev",
        1,
        "/ev",
        { "temp=": "ex_fregadero", "re": true },
        "G>",
        "ev",
        "str",
        "^fregadero_bg",
        "/str",
        { "x()": "show_image_bg", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Es un fregadero de piedra. El fregadero está vacío.",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Cocina_armario": [
        "ev",
        1,
        "/ev",
        { "temp=": "ex_armario", "re": true },
        "G>",
        "ev",
        { "VAR?": "llave" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": ["^Está cerrado con llave.", "\n", { "->": ".^.^.^.12" }, null]
          }
        ],
        [
          { "->": ".^.b" },
          {
            "b": [
              "G>",
              "ev",
              { "VAR?": "armario_open" },
              0,
              "==",
              "/ev",
              [
                { "->": ".^.b", "c": true },
                {
                  "b": [
                    "^Abres el armario con la llavecita.",
                    "\n",
                    "^Al examinarlo se te cae al suelo una ristra de ajos que estaba en su interior.",
                    "\n",
                    [
                      "ev",
                      "str",
                      "^Examinar la ristra de ajos",
                      "/str",
                      "/ev",
                      { "*": ".^.c", "flg": 4 },
                      { "c": [{ "->": "Cocina_ajos" }, { "#f": 7 }] }
                    ],
                    { "->": ".^.^.^.8" },
                    null
                  ]
                }
              ],
              [
                { "->": ".^.b" },
                { "b": ["^Está vacío", "\n", { "->": ".^.^.^.8" }, null] }
              ],
              "nop",
              "G<",
              "\n",
              "ev",
              1,
              "/ev",
              { "temp=": "armario_open", "re": true },
              { "->": ".^.^.^.12" },
              null
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Cocina_ajos": [
        "G>",
        "ev",
        "str",
        "^ristra de ajos",
        "/str",
        { "x()": "show_image", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Es una ristra entera de ajos que expelen un olor un tanto asqueroso. Es uno de los cuatro elementos que me servirán para derrotar al vampiro.",
        "\n",
        "G>",
        "ev",
        { "VAR?": "ajos" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "ev",
              "str",
              "^Recoger",
              "/str",
              "/ev",
              { "*": ".^.c", "flg": 20 },
              { "->": ".^.^.^.19" },
              {
                "c": [
                  "G>",
                  "ev",
                  "str",
                  "^ristra de ajos",
                  "/str",
                  1,
                  { "x()": "add_to_inventory", "exArgs": 2 },
                  "out",
                  "/ev",
                  "G<",
                  "\n",
                  "G>",
                  "ev",
                  { "x()": "snd_fx" },
                  "out",
                  "/ev",
                  "G<",
                  "\n",
                  "ev",
                  1,
                  "/ev",
                  { "temp=": "ajos", "re": true },
                  { "->": "current_location", "var": true },
                  { "#f": 7 }
                ]
              }
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Cocina_cuchillo": [
        [
          "G>",
          "ev",
          "str",
          "^cuchillo",
          "/str",
          { "x()": "show_image", "exArgs": 1 },
          "out",
          "/ev",
          "G<",
          "\n",
          [
            "^Un simple cuchillo de cocina. Pincha.",
            "\n",
            "G>",
            "ev",
            { "VAR?": "cuchillo" },
            0,
            "==",
            "/ev",
            [
              { "->": ".^.b", "c": true },
              {
                "b": [
                  "ev",
                  "str",
                  "^Recoger",
                  "/str",
                  "/ev",
                  { "*": ".^.c", "flg": 20 },
                  { "->": ".^.^.^.9" },
                  {
                    "c": [
                      "G>",
                      "ev",
                      "str",
                      "^cuchillo",
                      "/str",
                      1,
                      { "x()": "add_to_inventory", "exArgs": 2 },
                      "out",
                      "/ev",
                      "G<",
                      "\n",
                      "G>",
                      "ev",
                      { "x()": "snd_fx" },
                      "out",
                      "/ev",
                      "G<",
                      "\n",
                      "ev",
                      1,
                      "/ev",
                      { "temp=": "cuchillo", "re": true },
                      { "->": "current_location", "var": true },
                      { "#f": 7 }
                    ]
                  }
                ]
              }
            ],
            "nop",
            "G<",
            "\n",
            [
              "ev",
              "str",
              "^Volver",
              "/str",
              "/ev",
              { "*": ".^.c", "flg": 4 },
              { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
            ],
            "done",
            { "#f": 7, "#n": "g-0" }
          ],
          null
        ],
        { "#f": 3 }
      ],
      "Biblioteca": [
        "ev",
        { "^->": "Biblioteca" },
        "/ev",
        { "temp=": "current_location", "re": true },
        "ev",
        "str",
        "^Biblioteca",
        "/str",
        "/ev",
        { "temp=": "current_name", "re": true },
        "G>",
        "ev",
        { "x()": "hide_image" },
        "out",
        "/ev",
        "G<",
        "\n",
        "G>",
        "ev",
        "str",
        "^biblioteca",
        "/str",
        { "x()": "show_image_bg", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Te hallas en la biblioteca del castillo. Obviamente está llena de libros interesantes, pero desgraciadamente no tienes tiempo para leerlos.",
        "\n",
        "G>",
        "ev",
        { "VAR?": "crucifijo" },
        { "VAR?": "palanca" },
        "&&",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "<>",
              "^ Además, ya has recogido todo lo que necesitabas de esta habitación.",
              "\n",
              { "->": ".^.^.^.36" },
              null
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        "G>",
        "ev",
        { "VAR?": "crucifijo" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "^Puedes ver un crucifijo plateado. ",
              { "->": ".^.^.^.46" },
              null
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        "G>",
        "ev",
        { "VAR?": "palanca" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "G>",
              "ev",
              { "VAR?": "crucifijo" },
              "/ev",
              [
                { "->": ".^.b", "c": true },
                { "b": ["^Ves una palanca.", "\n", { "->": ".^.^.^.6" }, null] }
              ],
              [
                { "->": ".^.b" },
                {
                  "b": [
                    "<>",
                    "^También ves una palanca.",
                    "\n",
                    { "->": ".^.^.^.6" },
                    null
                  ]
                }
              ],
              "nop",
              "G<",
              "^",
              "\n",
              { "->": ".^.^.^.56" },
              null
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        "G>",
        "ev",
        { "VAR?": "crucifijo" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "ev",
              "str",
              "^Examinar crucifijo",
              "/str",
              "/ev",
              { "*": ".^.c", "flg": 4 },
              { "->": ".^.^.^.66" },
              { "c": [{ "->": "Biblioteca_cucifijo" }, { "#f": 7 }] }
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        "G>",
        "ev",
        { "VAR?": "palanca" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "ev",
              "str",
              "^Examinar palanca",
              "/str",
              "/ev",
              { "*": ".^.c", "flg": 4 },
              { "->": ".^.^.^.76" },
              { "c": [{ "->": "Biblioteca_palanca" }, { "#f": 7 }] }
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        [
          "ev",
          "str",
          "^Salir de la biblioteca",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Pasillo" }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Biblioteca_palanca": [
        "G>",
        "ev",
        "str",
        "^palanca",
        "/str",
        { "x()": "show_image", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Es una palanca de acero toledano. Sirve para forzar cosas.",
        "\n",
        "G>",
        "ev",
        { "VAR?": "palanca" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "ev",
              "str",
              "^Recoger",
              "/str",
              "/ev",
              { "*": ".^.c", "flg": 20 },
              { "->": ".^.^.^.19" },
              {
                "c": [
                  "G>",
                  "ev",
                  "str",
                  "^palanca",
                  "/str",
                  1,
                  { "x()": "add_to_inventory", "exArgs": 2 },
                  "out",
                  "/ev",
                  "G<",
                  "\n",
                  "G>",
                  "ev",
                  { "x()": "snd_fx" },
                  "out",
                  "/ev",
                  "G<",
                  "\n",
                  "ev",
                  1,
                  "/ev",
                  { "temp=": "palanca", "re": true },
                  { "->": "current_location", "var": true },
                  { "#f": 7 }
                ]
              }
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "cuchillo_obj": [
        "^Un simple cuchillo de cocina. Pincha.",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "llavecita_obj": [
        "^Esta pequeña llavecita tiene la pinta de abrir un armario o algo así.",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "crucifijo_obj": [
        "^Es un pequeño crucifijo plateado. Es uno de los cuatro elementos que nos servirán para derrotar al vampiro.",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "ristra_de_ajos_obj": [
        "^Es una ristra entera de ajos que expelen un olor un tanto asqueroso. Es uno de los cuatro elementos que me servirán para derrotar al vampiro.",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "trozo_de_madera_obj": [
        "^Un trozo de madera, cilíndrico y alargado",
        "\n",
        "G>",
        "ev",
        { "VAR?": "cuchillo" },
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "ev",
              "str",
              "^Afilar",
              "/str",
              "/ev",
              { "*": ".^.c", "flg": 4 },
              { "->": ".^.^.^.7" },
              { "c": [{ "->": "crear_estaca" }, { "#f": 7 }] }
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "palanca_obj": [
        "^Es una palanca de acero toledano. Sirve para forzar cosas.",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "estaca_obj": [
        "^Un cacho de madera cilíndrico y alargado, uno de sus extremos está afilado cuidadosamente.",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "martillo_obj": [
        "^Un martillo grande. Es uno de los elementos que me permitirán acabar con el vampiro.",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Biblioteca_cucifijo": [
        "G>",
        "ev",
        "str",
        "^crucifijo",
        "/str",
        { "x()": "show_image", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Es un pequeño crucifijo plateado. Es uno de los cuatro elementos que nos servirán para derrotar al vampiro.",
        "\n",
        "G>",
        "ev",
        { "VAR?": "crucifijo" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "ev",
              "str",
              "^Recoger",
              "/str",
              "/ev",
              { "*": ".^.c", "flg": 20 },
              { "->": ".^.^.^.19" },
              {
                "c": [
                  "G>",
                  "ev",
                  "str",
                  "^crucifijo",
                  "/str",
                  1,
                  { "x()": "add_to_inventory", "exArgs": 2 },
                  "out",
                  "/ev",
                  "G<",
                  "\n",
                  "G>",
                  "ev",
                  { "x()": "snd_fx" },
                  "out",
                  "/ev",
                  "G<",
                  "\n",
                  "ev",
                  1,
                  "/ev",
                  { "temp=": "crucifijo", "re": true },
                  { "->": "current_location", "var": true },
                  { "#f": 7 }
                ]
              }
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Escaleras": [
        "ev",
        { "^->": "Escaleras" },
        "/ev",
        { "temp=": "current_location", "re": true },
        "ev",
        "str",
        "^Escaleras",
        "/str",
        "/ev",
        { "temp=": "current_name", "re": true },
        "G>",
        "ev",
        { "x()": "hide_image" },
        "out",
        "/ev",
        "G<",
        "\n",
        "G>",
        "ev",
        "str",
        "^escaleras",
        "/str",
        { "x()": "show_image_bg", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Te hallas en el final del pasillo. Delante de ti ves unas escaleras que suben y otras que bajan. Al oeste está el dormitorio y al este la sala de estar.",
        "\n",
        [
          "ev",
          "str",
          "^Subir las escaleras",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Escaleras_superiores" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Bajar las escaleras",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Sotano" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Este",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Sala_de_estar" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Oeste",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Dormitorio" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Sur",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Pasillo" }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Dormitorio": [
        "ev",
        { "^->": "Dormitorio" },
        "/ev",
        { "temp=": "current_location", "re": true },
        "ev",
        "str",
        "^Dormitorio",
        "/str",
        "/ev",
        { "temp=": "current_name", "re": true },
        "G>",
        "ev",
        { "x()": "hide_image" },
        "out",
        "/ev",
        "G<",
        "\n",
        "G>",
        "ev",
        "str",
        "^dormitorio",
        "/str",
        { "x()": "show_image_bg", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Estás en un dormitorio no muy grande ni tampoco muy pequeño. Es bastante austero. Solo hay una cama y un armario.",
        "\n",
        [
          "ev",
          "str",
          "^Examinar cama",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Dormitorio_Cama" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Salir del dormitorio",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Escaleras" }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Dormitorio_Cama": [
        "^Está cubierta de sábanas.",
        "\n",
        [
          "ev",
          "str",
          "^Examinar sábanas",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": ".^.^.^.Sabanas" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        {
          "Sabanas": [
            "^Sábanas corrientes y molientes.",
            "\n",
            "G>",
            "ev",
            { "VAR?": "llave" },
            0,
            "==",
            "/ev",
            [
              { "->": ".^.b", "c": true },
              {
                "b": [
                  "^Entre ellas encuentras una pequeña llavecita.",
                  "\n",
                  [
                    "ev",
                    "str",
                    "^Examinar llavecita",
                    "/str",
                    "/ev",
                    { "*": ".^.c", "flg": 4 },
                    { "c": [{ "->": ".^.^.^.^.^.^.Llavecita" }, { "#f": 7 }] }
                  ],
                  { "->": ".^.^.^.10" },
                  null
                ]
              }
            ],
            [
              { "->": ".^.b" },
              {
                "b": [
                  "^Rebuscas entre las sábanas pero no encuentras nada más.",
                  "\n",
                  { "->": ".^.^.^.10" },
                  null
                ]
              }
            ],
            "nop",
            "G<",
            "\n",
            [
              "ev",
              "str",
              "^Volver",
              "/str",
              "/ev",
              { "*": ".^.c", "flg": 4 },
              { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
            ],
            { "#f": 3 }
          ],
          "Llavecita": [
            "G>",
            "ev",
            "str",
            "^llavecita",
            "/str",
            { "x()": "show_image", "exArgs": 1 },
            "out",
            "/ev",
            "G<",
            "\n",
            "^Esta pequeña llavecita tiene la pinta de abrir un armario o algo así.",
            "\n",
            "G>",
            "ev",
            { "VAR?": "llave" },
            0,
            "==",
            "/ev",
            [
              { "->": ".^.b", "c": true },
              {
                "b": [
                  "ev",
                  "str",
                  "^Recoger",
                  "/str",
                  "/ev",
                  { "*": ".^.c", "flg": 20 },
                  { "->": ".^.^.^.19" },
                  {
                    "c": [
                      "G>",
                      "ev",
                      "str",
                      "^llavecita",
                      "/str",
                      1,
                      { "x()": "add_to_inventory", "exArgs": 2 },
                      "out",
                      "/ev",
                      "G<",
                      "\n",
                      "G>",
                      "ev",
                      { "x()": "snd_fx" },
                      "out",
                      "/ev",
                      "G<",
                      "\n",
                      "ev",
                      1,
                      "/ev",
                      { "temp=": "llave", "re": true },
                      { "->": "current_location", "var": true },
                      { "#f": 7 }
                    ]
                  }
                ]
              }
            ],
            "nop",
            "G<",
            "\n",
            [
              "ev",
              "str",
              "^Volver",
              "/str",
              "/ev",
              { "*": ".^.c", "flg": 4 },
              { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
            ],
            "done",
            { "#f": 3 }
          ],
          "#f": 3
        }
      ],
      "Sala_de_estar": [
        "ev",
        { "^->": "Sala_de_estar" },
        "/ev",
        { "temp=": "current_location", "re": true },
        "ev",
        "str",
        "^Sala de estar",
        "/str",
        "/ev",
        { "temp=": "current_name", "re": true },
        "G>",
        "ev",
        { "x()": "hide_image" },
        "out",
        "/ev",
        "G<",
        "\n",
        "G>",
        "ev",
        "str",
        "^sala_de_estar",
        "/str",
        { "x()": "show_image_bg", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "G>",
        [
          "ev",
          "visit",
          2,
          "MIN",
          "/ev",
          "ev",
          "du",
          0,
          "==",
          "/ev",
          { "->": ".^.s0", "c": true },
          "ev",
          "du",
          1,
          "==",
          "/ev",
          { "->": ".^.s1", "c": true },
          "ev",
          "du",
          2,
          "==",
          "/ev",
          { "->": ".^.s2", "c": true },
          "nop",
          {
            "s0": [
              "pop",
              "^Es la sala más acogedora de todo el castillo. En la chimenea los últimos restos de algún fuego chisporrotean alegremente. Hay una mesa grande con una silla al lado. De la pared cuelgan bastantes trofeos de caza y adornos varios.",
              "\n",
              { "->": ".^.^.23" },
              null
            ],
            "s1": [
              "pop",
              "^Los rescoldos del fuego languidecen por momentos. Hay una mesa grande con una silla al lado. De la pared cuelgan bastantes trofeos de caza y adornos varios.",
              "\n",
              { "->": ".^.^.23" },
              null
            ],
            "s2": [
              "pop",
              "^Cada vez te siente menos agusto en esta sala. El silencio y el frio empiezan a pesar. Hay una mesa grande con una silla al lado. De la pared cuelgan bastantes trofeos de caza y adornos varios.",
              "\n",
              { "->": ".^.^.23" },
              null
            ],
            "#f": 5
          }
        ],
        "G<",
        "\n",
        [
          "ev",
          "str",
          "^Examinar mesa",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          {
            "c": [
              "^Una mesa de caoba, bastante grande.",
              "\n",
              "\n",
              { "->": "current_location", "var": true },
              { "#f": 7 }
            ]
          }
        ],
        [
          "ev",
          "str",
          "^Examinar silla",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          {
            "c": [
              "^Parece una silla cómoda.",
              "\n",
              "\n",
              { "->": "current_location", "var": true },
              { "#f": 7 }
            ]
          }
        ],
        [
          "ev",
          "str",
          "^Examinar chimenea",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Sala_de_estar_chimenea" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Examinar trofeos de caza",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          {
            "c": [
              "^Insignificantes trofeos.",
              "\n",
              "\n",
              { "->": "current_location", "var": true },
              { "#f": 7 }
            ]
          }
        ],
        [
          "ev",
          "str",
          "^Examinar adornos",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          {
            "c": [
              "^Adornan.",
              "\n",
              "\n",
              { "->": "current_location", "var": true },
              { "#f": 7 }
            ]
          }
        ],
        [
          "ev",
          "str",
          "^Salir de la sala de estar",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Escaleras" }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Sala_de_estar_chimenea": [
        "^Es una chimenea hecha de ladrillos y muy elegante.",
        "\n",
        "G>",
        "ev",
        { "VAR?": "madera" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "^Entre los restos del fuego encuentras un trozo de madera.",
              "\n",
              [
                "ev",
                "str",
                "^Examinar trozo de madera",
                "/str",
                "/ev",
                { "*": ".^.c", "flg": 4 },
                {
                  "c": [{ "->": "Sala_de_estar_chimenea_madera" }, { "#f": 7 }]
                }
              ],
              { "->": ".^.^.^.9" },
              null
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Sala_de_estar_chimenea_madera": [
        "G>",
        "ev",
        "str",
        "^trozo de madera",
        "/str",
        { "x()": "show_image", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Un trozo de madera, cilíndrico y alargado.",
        "\n",
        "G>",
        "ev",
        { "VAR?": "madera" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "ev",
              "str",
              "^Recoger",
              "/str",
              "/ev",
              { "*": ".^.c", "flg": 20 },
              { "->": ".^.^.^.19" },
              {
                "c": [
                  "G>",
                  "ev",
                  "str",
                  "^trozo de madera",
                  "/str",
                  1,
                  { "x()": "add_to_inventory", "exArgs": 2 },
                  "out",
                  "/ev",
                  "G<",
                  "\n",
                  "G>",
                  "ev",
                  { "x()": "snd_fx" },
                  "out",
                  "/ev",
                  "G<",
                  "\n",
                  "ev",
                  1,
                  "/ev",
                  { "temp=": "madera", "re": true },
                  { "->": "current_location", "var": true },
                  { "#f": 7 }
                ]
              }
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Sotano": [
        "ev",
        { "^->": "Sotano" },
        "/ev",
        { "temp=": "current_location", "re": true },
        "ev",
        "str",
        "^Sótano",
        "/str",
        "/ev",
        { "temp=": "current_name", "re": true },
        "G>",
        "ev",
        { "x()": "hide_image" },
        "out",
        "/ev",
        "G<",
        "\n",
        "G>",
        "ev",
        "str",
        "^sotano",
        "/str",
        { "x()": "show_image_bg", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^En este pequeño sótano hace mucho calor, sientes una sensación de recogimiento. Está todo muy sucio. Hay un barril aquí, también hay unas escaleras que suben.",
        "\n",
        [
          "ev",
          "str",
          "^Examinar barril",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Sotano_barril" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Subir las escaleras",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Escaleras" }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Sotano_barril": [
        "G>",
        "ev",
        { "VAR?": "martillo" },
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "^Está vacio.",
              "\n",
              [
                "ev",
                "str",
                "^Volver",
                "/str",
                "/ev",
                { "*": ".^.c", "flg": 4 },
                {
                  "c": [{ "->": "current_location", "var": true }, { "#f": 7 }]
                }
              ],
              { "->": ".^.^.^.6" },
              null
            ]
          }
        ],
        [
          { "->": ".^.b" },
          {
            "b": [
              "G>",
              "ev",
              { "VAR?": "palanca" },
              "/ev",
              [
                { "->": ".^.b", "c": true },
                {
                  "b": [
                    "^¡Clack! - Haciendo palanca logras abrir el barril.",
                    "\n",
                    "^Dentro hay un martillo.",
                    "\n",
                    [
                      "ev",
                      "str",
                      "^Examinar martillo",
                      "/str",
                      "/ev",
                      { "*": ".^.c", "flg": 4 },
                      { "c": [{ "->": "Sotano_barril_martillo" }, { "#f": 7 }] }
                    ],
                    [
                      "ev",
                      "str",
                      "^Volver",
                      "/str",
                      "/ev",
                      { "*": ".^.c", "flg": 4 },
                      {
                        "c": [
                          { "->": "current_location", "var": true },
                          { "#f": 7 }
                        ]
                      }
                    ],
                    { "->": ".^.^.^.6" },
                    null
                  ]
                }
              ],
              [
                { "->": ".^.b" },
                {
                  "b": [
                    "^Intentas abrirlo, pero no tienes la suficiente fuerza.",
                    "\n",
                    [
                      "ev",
                      "str",
                      "^Volver",
                      "/str",
                      "/ev",
                      { "*": ".^.c", "flg": 4 },
                      {
                        "c": [
                          { "->": "current_location", "var": true },
                          { "#f": 7 }
                        ]
                      }
                    ],
                    { "->": ".^.^.^.6" },
                    null
                  ]
                }
              ],
              "nop",
              "G<",
              "\n",
              { "->": ".^.^.^.6" },
              null
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        "done",
        { "#f": 3 }
      ],
      "Sotano_barril_martillo": [
        "G>",
        "ev",
        "str",
        "^martillo",
        "/str",
        { "x()": "show_image", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Un martillo grande. Es uno de los elementos que me permitirán acabar con el vampiro.",
        "\n",
        "G>",
        "ev",
        { "VAR?": "martillo" },
        0,
        "==",
        "/ev",
        [
          { "->": ".^.b", "c": true },
          {
            "b": [
              "ev",
              "str",
              "^Recoger",
              "/str",
              "/ev",
              { "*": ".^.c", "flg": 20 },
              { "->": ".^.^.^.19" },
              {
                "c": [
                  "G>",
                  "ev",
                  "str",
                  "^martillo",
                  "/str",
                  1,
                  { "x()": "add_to_inventory", "exArgs": 2 },
                  "out",
                  "/ev",
                  "G<",
                  "\n",
                  "G>",
                  "ev",
                  { "x()": "snd_fx" },
                  "out",
                  "/ev",
                  "G<",
                  "\n",
                  "ev",
                  1,
                  "/ev",
                  { "temp=": "martillo", "re": true },
                  { "->": "current_location", "var": true },
                  { "#f": 7 }
                ]
              }
            ]
          }
        ],
        "nop",
        "G<",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Escaleras_superiores": [
        "ev",
        { "^->": "Escaleras_superiores" },
        "/ev",
        { "temp=": "current_location", "re": true },
        "ev",
        "str",
        "^Escaleras superiores",
        "/str",
        "/ev",
        { "temp=": "current_name", "re": true },
        "G>",
        "ev",
        { "x()": "hide_image" },
        "out",
        "/ev",
        "G<",
        "\n",
        "G>",
        "ev",
        "str",
        "^escaleras_superiores",
        "/str",
        { "x()": "show_image_bg", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Estás en el piso superior del castillo. Aquí hace aún más frío que abajo. Detrás de ti están las escaleras que bajan y hacia el oeste está la habitación del vampiro.",
        "\n",
        [
          "ev",
          "str",
          "^Bajar las escaleras",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Escaleras" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Oeste",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Habitacion_vampiro" }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Habitacion_vampiro": [
        "ev",
        { "^->": "Habitacion_vampiro" },
        "/ev",
        { "temp=": "current_location", "re": true },
        "ev",
        "str",
        "^Habitación del vampiro",
        "/str",
        "/ev",
        { "temp=": "current_name", "re": true },
        "G>",
        "ev",
        { "x()": "hide_image" },
        "out",
        "/ev",
        "G<",
        "\n",
        "G>",
        "ev",
        "str",
        "^vampiro_bg",
        "/str",
        { "x()": "show_image_bg", "exArgs": 1 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Estás en una habitación desnuda. Unicamente hay un altar en el centro. Encima del altar puedes ver un ataúd.",
        "\n",
        [
          "ev",
          "str",
          "^Examinar ataúd",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Habitacion_vampiro_ataud" }, { "#f": 7 }] }
        ],
        [
          "ev",
          "str",
          "^Salir de la habitación del vampiro",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "Escaleras_superiores" }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "Habitacion_vampiro_ataud": [
        "^Una sencilla caja de pino.",
        "\n",
        [
          "ev",
          "str",
          "^Abrir",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          {
            "c": [
              "G>",
              "ev",
              { "VAR?": "ajos" },
              1,
              "==",
              { "VAR?": "estaca" },
              1,
              "==",
              "&&",
              { "VAR?": "crucifijo" },
              1,
              "==",
              "&&",
              { "VAR?": "martillo" },
              1,
              "==",
              "&&",
              "/ev",
              [
                { "->": ".^.b", "c": true },
                {
                  "b": [
                    { "->": ".^.^.^.^.^.Habitacion_vampiro_ataud_.0.abierto" },
                    { "->": ".^.^.^.20" },
                    null
                  ]
                }
              ],
              [
                { "->": ".^.b" },
                {
                  "b": [
                    {
                      "->": ".^.^.^.^.^.Habitacion_vampiro_ataud_.0.abierto.cerrado"
                    },
                    { "->": ".^.^.^.20" },
                    null
                  ]
                }
              ],
              "nop",
              "G<",
              "\n",
              { "#f": 7 }
            ]
          }
        ],
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        {
          "Habitacion_vampiro_ataud_": [
            [
              [
                "^Abres el ataúd. Dentro contemplas la horrible cara del vampiro. Protegido por los ajos y el crucifijo empiezas tu horrible tarea. Le clavas la estaca en el pecho y de un terrible golpe de martillo la hundes en lo más profundo de su ser. Con un grito de agonía se deshace en polvo y tú acabas tu misión aquí.",
                "\n",
                "^Por ahora...",
                "\n",
                "end",
                [
                  "^Necesito cuatro cosas antes de poner fin a la 'vida' del vampiro. A saber: un crucifijo, una ristra de ajos, una estaca afilada y un martillo.",
                  "\n",
                  [
                    "ev",
                    "str",
                    "^Volver",
                    "/str",
                    "/ev",
                    { "*": ".^.c", "flg": 4 },
                    {
                      "c": [
                        { "->": "current_location", "var": true },
                        { "#f": 7 }
                      ]
                    }
                  ],
                  "done",
                  { "#f": 7, "#n": "cerrado" }
                ],
                { "#f": 7, "#n": "abierto" }
              ],
              null
            ],
            { "#f": 3 }
          ],
          "#f": 3
        }
      ],
      "crear_estaca": [
        "ev",
        1,
        "/ev",
        { "temp=": "estaca", "re": true },
        "G>",
        "ev",
        "str",
        "^trozo de madera",
        "/str",
        "str",
        "^estaca",
        "/str",
        { "x()": "change_inventory_state", "exArgs": 2 },
        "out",
        "/ev",
        "G<",
        "\n",
        "^Afilas la madera con el cuchillo ¡y obtienes una estaca!",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 20 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "examinar_estaca": [
        "^Un cacho de madera rectangular y alargado, uno de sus extremos está afilado cuidadosamente.",
        "\n",
        [
          "ev",
          "str",
          "^Volver",
          "/str",
          "/ev",
          { "*": ".^.c", "flg": 4 },
          { "c": [{ "->": "current_location", "var": true }, { "#f": 7 }] }
        ],
        "done",
        { "#f": 3 }
      ],
      "snd_fx": ["ev", 1, "/ev", "~ret", { "#f": 3 }],
      "show_image_bg": [
        { "temp=": "item" },
        "ev",
        1,
        "/ev",
        "~ret",
        { "#f": 3 }
      ],
      "change_inventory_state": [
        { "temp=": "change" },
        { "temp=": "item" },
        "ev",
        1,
        "/ev",
        "~ret",
        { "#f": 3 }
      ],
      "add_to_inventory": [
        { "temp=": "state" },
        { "temp=": "item" },
        "ev",
        1,
        "/ev",
        "~ret",
        { "#f": 3 }
      ],
      "hide_image": ["ev", 1, "/ev", "~ret", { "#f": 3 }],
      "show_image": [{ "temp=": "image" }, "ev", 1, "/ev", "~ret", { "#f": 3 }],
      "global decl": [
        "ev",
        { "^->": "Intro" },
        { "VAR=": "current_location" },
        "str",
        "^",
        "/str",
        { "VAR=": "current_name" },
        0,
        { "VAR=": "cuchillo" },
        0,
        { "VAR=": "armario" },
        0,
        { "VAR=": "llave" },
        0,
        { "VAR=": "crucifijo" },
        0,
        { "VAR=": "palanca" },
        0,
        { "VAR=": "madera" },
        0,
        { "VAR=": "ajos" },
        0,
        { "VAR=": "estaca" },
        1,
        { "VAR=": "traje" },
        1,
        { "VAR=": "traje_on" },
        0,
        { "VAR=": "ex_fregadero" },
        0,
        { "VAR=": "ex_armario" },
        0,
        { "VAR=": "ex_cama" },
        0,
        { "VAR=": "ex_sabanas" },
        0,
        { "VAR=": "armario_open" },
        0,
        { "VAR=": "martillo" },
        "/ev",
        "end",
        null
      ],
      "#f": 3
    }
  ]
}
